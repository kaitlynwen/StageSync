<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Boxicons -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />

  <!-- FullCalendar Styles and Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.15/index.global.js"
    integrity="sha512-3I+0zIxy2IkeeCvvhXUEu+AFT3zAGuHslHLDmM8JBv6FT7IW6WjhGpUZ55DyGXArYHD0NshixtmNUWJzt0K32w=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- Flowbite -->
  <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/tailwind.css') }}" />
  <link rel="icon" href="{{ url_for('static', filename='img/Logo.png') }}" />

  <!-- Set Title of Page -->
  <title>Manage Groups - StageSync</title>
</head>

<body class="flex flex-col min-h-screen font-sans bg-white dark:bg-neutral-900">
  <div class="flex flex-grow">
    <!-- Sidebar Section -->
    <div id="sidebar-container" class="w-1/5 bg-neutral-50 min-h-screen p-3 dark:bg-neutral-800">
      {% include 'sidebar-admin.html' %}
    </div>

    <!-- Main Content Section -->
    <main class="w-4/5 py-6 px-10 flex flex-col flex-grow">
      <div class="flex justify-between items-center mt-2">
        <p class="text-3xl font-bold dark:text-neutral-200">Manage Groups</p>
      </div>

      <div class="flex justify-between items-center">
        <p id="subtitle" class="text-lg font-bold text-indigo-500 py-4">
          Upload, input, or modify rehearsal group information below
        </p>
      </div>

      <div class="flex justify-between items-center">
        <div class="flex gap-6 flex-wrap mt-2">
          {% for group in groups %}
          <div class="bg-neutral-200 p-4 rounded-lg w-64 relative dark:bg-neutral-800 dark:text-neutral-200">
            <div class="flex justify-between items-center">
              <h2 class="text-lg font-semibold mb-2">{{ group.title }}</h2>
              <!-- Filters: https://jinja.palletsprojects.com/ -->
              <button class="edit-group-btn bg-indigo-500 hover:bg-indigo-700 text-white px-2 py-1 rounded text-sm mb-2"
                data-group-name="{{ group.title }}"
                data-group-id="{{ group.groupid}}"
                data-members='{{ group.members | tojson }}'>
                Edit
              </button>
            </div>
            <div class="space-y-2">
              {% for member in group.members %}
              <div class="text-neutral-900 dark:text-neutral-300">{{ member.first_name }} {{ member.last_name }}</div>
              {% endfor %}
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </main>
  </div>

  <!-- The Modal: https://www.w3schools.com/howto/howto_css_modals.asp -->
  <div id="edit-group-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
    </div>

  </div>

  <!-- Footer Section -->
  <footer class="bg-neutral-900">
    {% include 'footer.html' %}
  </footer>

  <script src="{{ url_for('static', filename='js/manage-groups.js') }}"></script>
</body>

</html>